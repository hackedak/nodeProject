<html>
    <%- include('./partials/head.ejs') %>
<body>
   <%- include('./partials/navbar.ejs') %>

   <div class="create-blog content">
        <div> 
        <label for="title">Blog title:</label>
        <input type="text" id="title" name="title" required>
        <label for="snippet">Blog snippet:</label>
        <input type="text" id="snippet" name="snippet" required>
        <label for="body">Blog body:</label>
        <p id="body" name="body" required></p>
        <button class="submit-btn">Submit</button>
        </div>
   </div>

   <script>
    var quill = new Quill('#body', {
      theme: 'snow'
    });
    const title = document.getElementById('title').value
    const snippet = document.getElementById('snippet').value
    var delta = quill.getContents();
    const submitbtn = document.querySelector('.submit-btn')
    submitbtn.addEventListener('click', (e) =>{

        fetch('/blogs', {
        method: 'POST',
        body: JSON.stringify({
            title: document.getElementById('title').value,
            snippet: document.getElementById('snippet').value,
            body: delta
        }),
        headers: { 
        "Content-type": "text/html; charset=utf-8"
        } 
    })

    }) 
    
</script>
    <%- include('./partials/footer.ejs')%>
</body>
</html>